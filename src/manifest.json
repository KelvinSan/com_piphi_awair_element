{
  "name": "Awair Element (Local API)",
  "version": "0.0.1",
  "description": "Integration for Awair Element devices over the local network",
  "image": "piphinetwork/awair-element",
  "platforms": ["linux", "windows", "macos"],
  "discovery":{
    "linux":{
      "method": "direct"
    },
    "windows":{
      "method": "proxy"
    },
    "macos":{
      "method": "proxy"
    }
  },
  "proxy":{
    "port": 3665
  },
  "container": {
    "ports": [
      { "container": 3665, "host": 3665 }
    ],
    "environment": {
      "LOG_LEVEL": "info"
    },
    "volumes": [
      { "host": "/data/awair", "container": "/app/data" }
    ],
    "restart_policy": {
      "name": "unless-stopped"
    }
  },

  "config": {
    "schema": {
      "type": "object",
      "properties": {
        "host": { "type": "string", "format": "ipv4" }
      },
      "required": ["host"]
    },
    "ui": {
      "host": {
        "title": "Device IP",
        "description": "The local IP address of your Awair Element",
        "widget": "text"
      }
    }
  },

  "capabilities": [
    "temperature",
    "humidity",
    "co2",
    "voc",
    "pm25",
    "score"
  ],

  "commands": {
    "refresh": { "description": "Force refresh device state" }
  },

  "entities": [
    { "id": "temperature", "name": "Temperature", "capabilities": ["temperature"], "unit": "°C" },
    { "id": "humidity", "name": "Humidity", "capabilities": ["humidity"], "unit": "%" },
    { "id": "co2", "name": "CO₂", "capabilities": ["co2"], "unit": "ppm" }
  ]
}
